# ====================================
# Rojgari India Backend - Environment Variables
# ====================================
# Copy this file to .env and update with your values
# Never commit .env to version control!

# ====================================
# SERVER CONFIGURATION
# ====================================

# Application environment (development, production, staging)
NODE_ENV=development

# Port number for the API server
PORT=3000

# Base URL for the application (used in email templates and file URLs)
BASE_URL=http://localhost:3000

# ====================================
# DATABASE CONFIGURATION
# ====================================

# MySQL Database Connection
DB_HOST=localhost
DB_PORT=3306
DB_NAME=admin_rojgari
DB_USER=admin_rojgari
DB_PASSWORD=admin@123

# Database dialect (mysql, postgres, sqlite, mariadb)
DB_DIALECT=mysql

# Connection pool settings (optional)
DB_POOL_MAX=5
DB_POOL_MIN=0
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# ====================================
# JWT AUTHENTICATION (Future Use)
# ====================================

# Secret key for JWT signing (CHANGE THIS IN PRODUCTION!)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-secret-key-change-this-in-production

# JWT token expiration time
JWT_EXPIRES_IN=24h

# JWT refresh token expiration
JWT_REFRESH_EXPIRES_IN=7d

# ====================================
# EMAIL CONFIGURATION (SMTP)
# ====================================

# SMTP Server Settings (for OTP emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false

# SMTP Authentication
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password-here

# Email "From" Information
SMTP_FROM_NAME=Rojgari India
SMTP_FROM_EMAIL=noreply@rojgariindia.com

# OTP Settings
OTP_EXPIRY_MINUTES=10
OTP_MAX_ATTEMPTS=5

# ====================================
# CORS CONFIGURATION
# ====================================

# Allowed origins (comma-separated for multiple origins)
# Development: http://localhost:3000,http://localhost:3001
# Production: https://rojgariindia.com,https://www.rojgariindia.com
CORS_ORIGIN=http://localhost:3000

# ====================================
# FILE UPLOAD CONFIGURATION
# ====================================

# Upload directory (relative to project root)
UPLOAD_DIR=uploads

# Maximum file sizes (in bytes)
# Profile Photo: 5MB (5 * 1024 * 1024 = 5242880)
MAX_FILE_SIZE_PHOTO=5242880

# Resume: 10MB (10 * 1024 * 1024 = 10485760)
MAX_FILE_SIZE_RESUME=10485760

# Image processing settings
IMAGE_MAX_WIDTH=800
IMAGE_MAX_HEIGHT=800
IMAGE_QUALITY=85

# Allowed file types
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,gif,webp
ALLOWED_DOCUMENT_TYPES=pdf,doc,docx

# ====================================
# SECURITY CONFIGURATION
# ====================================

# Rate Limiting (Future Implementation)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session Configuration (Future Implementation)
SESSION_SECRET=your-session-secret-change-this
SESSION_MAX_AGE=86400000

# Virus Scanning (ClamAV - Optional)
ENABLE_VIRUS_SCAN=false
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# ====================================
# LOGGING CONFIGURATION
# ====================================

# Log level (error, warn, info, http, verbose, debug, silly)
LOG_LEVEL=info

# Log file path
LOG_FILE=logs/app.log

# Enable console logging
LOG_CONSOLE=true

# Enable file logging
LOG_FILE_ENABLED=true

# ====================================
# CACHE CONFIGURATION
# ====================================

# Cache TTL in seconds (for OTP, lookup data, etc.)
CACHE_TTL=600

# ====================================
# WORKER THREADS CONFIGURATION
# ====================================

# Maximum number of worker threads for file processing
MAX_WORKERS=4

# Worker timeout in milliseconds
WORKER_TIMEOUT=30000

# ====================================
# PAGINATION DEFAULTS
# ====================================

# Default page size for API responses
DEFAULT_PAGE_SIZE=10

# Maximum page size allowed
MAX_PAGE_SIZE=100

# ====================================
# EXTERNAL SERVICES (Future Use)
# ====================================

# SMS Service (for future SMS OTP)
SMS_API_KEY=your-sms-api-key
SMS_SENDER_ID=ROJGAR

# Cloud Storage (AWS S3, Google Cloud Storage, etc.)
CLOUD_STORAGE_ENABLED=false
CLOUD_STORAGE_BUCKET=rojgari-uploads
CLOUD_STORAGE_REGION=us-east-1

# Payment Gateway (Future Implementation)
PAYMENT_GATEWAY_KEY=your-payment-key
PAYMENT_GATEWAY_SECRET=your-payment-secret

# ====================================
# MONITORING & ANALYTICS (Future Use)
# ====================================

# Sentry Error Tracking
SENTRY_DSN=your-sentry-dsn

# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X

# ====================================
# DEVELOPMENT TOOLS
# ====================================

# Enable debug mode (verbose logging)
DEBUG=false

# Enable API documentation (Swagger)
ENABLE_API_DOCS=true

# Enable database query logging
DB_LOGGING=false

# ====================================
# PRODUCTION OPTIMIZATION
# ====================================

# Cluster mode (number of instances, 'max' for all CPU cores)
CLUSTER_INSTANCES=1

# Node.js memory limit (in MB)
NODE_MEMORY_LIMIT=512

# Enable compression for API responses
ENABLE_COMPRESSION=true

# ====================================
# NOTES
# ====================================

# 1. Copy this file to .env in the same directory
# 2. Update all values marked with "change-this" or "your-*"
# 3. Never commit .env to version control
# 4. For production, use strong random values for secrets
# 5. Generate JWT_SECRET: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# 6. For Gmail SMTP, use App Passwords (not regular password)
# 7. Ensure database exists before starting the server
# 8. Run 'npm run setup-db' to create tables and seed data
